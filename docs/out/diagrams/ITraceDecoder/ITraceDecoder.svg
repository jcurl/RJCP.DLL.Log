<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="498px" preserveAspectRatio="none" style="width:1275px;height:498px;background:#FFFFFF;" version="1.1" viewBox="0 0 1275 498" width="1275px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p6prdc7x2r5t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[684d20bac0edec56e0afdb1190bcbf55]
class ITraceReader--><rect codeLine="3" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="53.8359" id="ITraceReader" style="stroke:#A80036;stroke-width:1.5;" width="187" x="632" y="17"/><ellipse cx="647" cy="33" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M647.9531,29.6406 L647.9531,36.2969 L649.6719,36.2969 Q650.2813,36.2969 650.5469,36.5313 Q650.8125,36.7656 650.8125,37.1563 Q650.8125,37.5313 650.5469,37.7656 Q650.2813,38 649.6719,38 L644.5313,38 Q643.9219,38 643.6563,37.7656 Q643.3906,37.5313 643.3906,37.1406 Q643.3906,36.7656 643.6563,36.5313 Q643.9219,36.2969 644.5313,36.2969 L646.25,36.2969 L646.25,29.6406 L644.5313,29.6406 Q643.9219,29.6406 643.6563,29.4063 Q643.3906,29.1719 643.3906,28.7813 Q643.3906,28.4063 643.6563,28.1719 Q643.9219,27.9375 644.5313,27.9375 L649.6719,27.9375 Q650.2813,27.9375 650.5469,28.1719 Q650.8125,28.4063 650.8125,28.7813 Q650.8125,29.1719 650.5469,29.4063 Q650.2813,29.6406 649.6719,29.6406 L647.9531,29.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="76" x="661" y="37.9102">ITraceReader</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="745" y="14"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="746" y="27.457">T : ITraceLine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="633" x2="818" y1="49" y2="49"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="638" y="64.4189">GetLineAsync() : T</text><!--MD5=[a396df41a69eade5422d2135ed2374f5]
class ITraceDecoderFactory--><rect codeLine="7" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="53.8359" id="ITraceDecoderFactory" style="stroke:#A80036;stroke-width:1.5;" width="233" x="309" y="186"/><ellipse cx="324" cy="202" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M324.9531,198.6406 L324.9531,205.2969 L326.6719,205.2969 Q327.2813,205.2969 327.5469,205.5313 Q327.8125,205.7656 327.8125,206.1563 Q327.8125,206.5313 327.5469,206.7656 Q327.2813,207 326.6719,207 L321.5313,207 Q320.9219,207 320.6563,206.7656 Q320.3906,206.5313 320.3906,206.1406 Q320.3906,205.7656 320.6563,205.5313 Q320.9219,205.2969 321.5313,205.2969 L323.25,205.2969 L323.25,198.6406 L321.5313,198.6406 Q320.9219,198.6406 320.6563,198.4063 Q320.3906,198.1719 320.3906,197.7813 Q320.3906,197.4063 320.6563,197.1719 Q320.9219,196.9375 321.5313,196.9375 L326.6719,196.9375 Q327.2813,196.9375 327.5469,197.1719 Q327.8125,197.4063 327.8125,197.7813 Q327.8125,198.1719 327.5469,198.4063 Q327.2813,198.6406 326.6719,198.6406 L324.9531,198.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="122" x="338" y="206.9102">ITraceDecoderFactory</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="468" y="183"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="469" y="196.457">T : ITraceLine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="310" x2="541" y1="218" y2="218"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="315" y="233.4189">Create() : ITraceDecoder&lt;T&gt;</text><!--MD5=[a6fb610bc0c1ad93080ac34ca45d146b]
class ITraceReaderFactory--><rect codeLine="11" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="67.6719" id="ITraceReaderFactory" style="stroke:#A80036;stroke-width:1.5;" width="250" x="16.5" y="10"/><ellipse cx="41.85" cy="26" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M42.8031,22.6406 L42.8031,29.2969 L44.5219,29.2969 Q45.1313,29.2969 45.3969,29.5313 Q45.6625,29.7656 45.6625,30.1563 Q45.6625,30.5313 45.3969,30.7656 Q45.1313,31 44.5219,31 L39.3813,31 Q38.7719,31 38.5063,30.7656 Q38.2406,30.5313 38.2406,30.1406 Q38.2406,29.7656 38.5063,29.5313 Q38.7719,29.2969 39.3813,29.2969 L41.1,29.2969 L41.1,22.6406 L39.3813,22.6406 Q38.7719,22.6406 38.5063,22.4063 Q38.2406,22.1719 38.2406,21.7813 Q38.2406,21.4063 38.5063,21.1719 Q38.7719,20.9375 39.3813,20.9375 L44.5219,20.9375 Q45.1313,20.9375 45.3969,21.1719 Q45.6625,21.4063 45.6625,21.7813 Q45.6625,22.1719 45.3969,22.4063 Q45.1313,22.6406 44.5219,22.6406 L42.8031,22.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="116" x="58.15" y="30.9102">ITraceReaderFactory</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="192.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="193.5" y="20.457">T : ITraceLine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="17.5" x2="265.5" y1="42" y2="42"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="22.5" y="57.4189">CreateAsync(stream: Stream) : ITraceReader&lt;T&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="22.5" y="71.2549">CreateAsync(fileName: string) : ITraceReader&lt;T&gt;</text><!--MD5=[4784c301fe13507917f315be539ce5d6]
class ITraceDecoder--><rect codeLine="16" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="67.6719" id="ITraceDecoder" style="stroke:#A80036;stroke-width:1.5;" width="352" x="909.5" y="179"/><ellipse cx="1000.75" cy="195" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1001.7031,191.6406 L1001.7031,198.2969 L1003.4219,198.2969 Q1004.0313,198.2969 1004.2969,198.5313 Q1004.5625,198.7656 1004.5625,199.1563 Q1004.5625,199.5313 1004.2969,199.7656 Q1004.0313,200 1003.4219,200 L998.2813,200 Q997.6719,200 997.4063,199.7656 Q997.1406,199.5313 997.1406,199.1406 Q997.1406,198.7656 997.4063,198.5313 Q997.6719,198.2969 998.2813,198.2969 L1000,198.2969 L1000,191.6406 L998.2813,191.6406 Q997.6719,191.6406 997.4063,191.4063 Q997.1406,191.1719 997.1406,190.7813 Q997.1406,190.4063 997.4063,190.1719 Q997.6719,189.9375 998.2813,189.9375 L1003.4219,189.9375 Q1004.0313,189.9375 1004.2969,190.1719 Q1004.5625,190.4063 1004.5625,190.7813 Q1004.5625,191.1719 1004.2969,191.4063 Q1004.0313,191.6406 1003.4219,191.6406 L1001.7031,191.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82" x="1021.25" y="199.9102">ITraceDecoder</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="1187.5" y="176"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="1188.5" y="189.457">T : ITraceLine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="910.5" x2="1260.5" y1="211" y2="211"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="340" x="915.5" y="226.4189">Decode(buffer: ReadOnlySpan&lt;byte&gt;, position: long) : IEnumerable&lt;T&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="915.5" y="240.2549">Flush() : IEnumerable&lt;T&gt;</text><!--MD5=[f4288dffdb2ee17e8277a82c8664138f]
class TraceReaderFactory--><rect codeLine="21" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="81.5078" id="TraceReaderFactory" style="stroke:#A80036;stroke-width:1.5;" width="265" x="9" y="172"/><ellipse cx="43.35" cy="188" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M46.1156,183.875 Q46.2719,183.6563 46.4594,183.5469 Q46.6469,183.4375 46.8656,183.4375 Q47.2406,183.4375 47.475,183.6953 Q47.7094,183.9531 47.7094,184.5625 L47.7094,186.0156 Q47.7094,186.625 47.475,186.8906 Q47.2406,187.1563 46.8656,187.1563 Q46.5219,187.1563 46.3188,186.9531 Q46.1156,186.7656 46.0063,186.25 Q45.9594,185.8906 45.7719,185.7031 Q45.4438,185.3281 44.8344,185.1094 Q44.225,184.8906 43.6,184.8906 Q42.8344,184.8906 42.2016,185.2188 Q41.5688,185.5469 41.0766,186.2969 Q40.5844,187.0469 40.5844,188.0781 L40.5844,189.1719 Q40.5844,190.4063 41.475,191.2266 Q42.3656,192.0469 43.9594,192.0469 Q44.8969,192.0469 45.5531,191.7969 Q45.9438,191.6406 46.3656,191.2031 Q46.6313,190.9375 46.7797,190.8594 Q46.9281,190.7813 47.1313,190.7813 Q47.4594,190.7813 47.7172,191.0391 Q47.975,191.2969 47.975,191.6406 Q47.975,191.9844 47.6313,192.3906 Q47.1313,192.9688 46.3344,193.2969 Q45.2563,193.75 43.9594,193.75 Q42.4438,193.75 41.2406,193.125 Q40.2563,192.625 39.5688,191.5547 Q38.8813,190.4844 38.8813,189.2031 L38.8813,188.0469 Q38.8813,186.7188 39.4984,185.5703 Q40.1156,184.4219 41.2094,183.8047 Q42.3031,183.1875 43.5375,183.1875 Q44.2719,183.1875 44.9203,183.3516 Q45.5688,183.5156 46.1156,183.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="61.65" y="192.9102">TraceReaderFactory</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="200" y="169"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="201" y="182.457">T : ITraceLine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="273" y1="204" y2="204"/><polygon fill="#FFFF44" points="20,210,24,214,20,218,16,214" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="29" y="219.4189">.ctor(decoderFactory: ITraceDecoderFactory&lt;T&gt;)</text><ellipse cx="20" cy="228.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="29" y="233.2549">CreateAsync(stream: Stream) : ITraceReader&lt;T&gt;</text><ellipse cx="20" cy="242.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="29" y="247.0908">CreateAsync(fileName: string) : ITraceReader&lt;T&gt;</text><!--MD5=[9c1ec34ffd665f2ab66be7570fe1ffdc]
class TraceReader--><rect codeLine="27" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="75.6719" id="TraceReader" style="stroke:#A80036;stroke-width:1.5;" width="297" x="577" y="175"/><ellipse cx="645.75" cy="191" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M648.5156,186.875 Q648.6719,186.6563 648.8594,186.5469 Q649.0469,186.4375 649.2656,186.4375 Q649.6406,186.4375 649.875,186.6953 Q650.1094,186.9531 650.1094,187.5625 L650.1094,189.0156 Q650.1094,189.625 649.875,189.8906 Q649.6406,190.1563 649.2656,190.1563 Q648.9219,190.1563 648.7188,189.9531 Q648.5156,189.7656 648.4063,189.25 Q648.3594,188.8906 648.1719,188.7031 Q647.8438,188.3281 647.2344,188.1094 Q646.625,187.8906 646,187.8906 Q645.2344,187.8906 644.6016,188.2188 Q643.9688,188.5469 643.4766,189.2969 Q642.9844,190.0469 642.9844,191.0781 L642.9844,192.1719 Q642.9844,193.4063 643.875,194.2266 Q644.7656,195.0469 646.3594,195.0469 Q647.2969,195.0469 647.9531,194.7969 Q648.3438,194.6406 648.7656,194.2031 Q649.0313,193.9375 649.1797,193.8594 Q649.3281,193.7813 649.5313,193.7813 Q649.8594,193.7813 650.1172,194.0391 Q650.375,194.2969 650.375,194.6406 Q650.375,194.9844 650.0313,195.3906 Q649.5313,195.9688 648.7344,196.2969 Q647.6563,196.75 646.3594,196.75 Q644.8438,196.75 643.6406,196.125 Q642.6563,195.625 641.9688,194.5547 Q641.2813,193.4844 641.2813,192.2031 L641.2813,191.0469 Q641.2813,189.7188 641.8984,188.5703 Q642.5156,187.4219 643.6094,186.8047 Q644.7031,186.1875 645.9375,186.1875 Q646.6719,186.1875 647.3203,186.3516 Q647.9688,186.5156 648.5156,186.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="666.25" y="195.9102">TraceReader</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="800" y="172"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="801" y="185.457">T : ITraceLine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="578" x2="873" y1="207" y2="207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="285" x="583" y="222.4189">TraceReader(stream: Stream, decoder: ITraceDecoder&lt;T&gt;)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="578" x2="873" y1="228.8359" y2="228.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="583" y="244.2549">GetLineAsync() : T</text><!--MD5=[17ad13915665cf8f3fec41c9fe5dcee4]
class MyTraceReaderFactory--><rect codeLine="38" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="32" id="MyTraceReaderFactory" style="stroke:#A80036;stroke-width:1.5;" width="157" x="63" y="343"/><ellipse cx="78" cy="359" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M80.7656,354.875 Q80.9219,354.6563 81.1094,354.5469 Q81.2969,354.4375 81.5156,354.4375 Q81.8906,354.4375 82.125,354.6953 Q82.3594,354.9531 82.3594,355.5625 L82.3594,357.0156 Q82.3594,357.625 82.125,357.8906 Q81.8906,358.1563 81.5156,358.1563 Q81.1719,358.1563 80.9688,357.9531 Q80.7656,357.7656 80.6563,357.25 Q80.6094,356.8906 80.4219,356.7031 Q80.0938,356.3281 79.4844,356.1094 Q78.875,355.8906 78.25,355.8906 Q77.4844,355.8906 76.8516,356.2188 Q76.2188,356.5469 75.7266,357.2969 Q75.2344,358.0469 75.2344,359.0781 L75.2344,360.1719 Q75.2344,361.4063 76.125,362.2266 Q77.0156,363.0469 78.6094,363.0469 Q79.5469,363.0469 80.2031,362.7969 Q80.5938,362.6406 81.0156,362.2031 Q81.2813,361.9375 81.4297,361.8594 Q81.5781,361.7813 81.7813,361.7813 Q82.1094,361.7813 82.3672,362.0391 Q82.625,362.2969 82.625,362.6406 Q82.625,362.9844 82.2813,363.3906 Q81.7813,363.9688 80.9844,364.2969 Q79.9063,364.75 78.6094,364.75 Q77.0938,364.75 75.8906,364.125 Q74.9063,363.625 74.2188,362.5547 Q73.5313,361.4844 73.5313,360.2031 L73.5313,359.0469 Q73.5313,357.7188 74.1484,356.5703 Q74.7656,355.4219 75.8594,354.8047 Q76.9531,354.1875 78.1875,354.1875 Q78.9219,354.1875 79.5703,354.3516 Q80.2188,354.5156 80.7656,354.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125" x="92" y="363.9102">MyTraceReaderFactory</text><path d="M52,447 L52,489.7031 A0,0 0 0 0 52,489.7031 L231,489.7031 A0,0 0 0 0 231,489.7031 L231,457 L221,447 L145.5,447 L141.5,375.4 L137.5,447 L52,447 A0,0 0 0 0 52,447 " fill="#FBFB77" filter="url(#f1p6prdc7x2r5t)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M221,447 L221,457 L231,457 L221,447 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="58" y="465.4951">User instantiates this class</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="58" y="481.8467">to get the</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="82" x="117" y="481.8467">TraceReader</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="199" y="481.8467">.</text><!--MD5=[e54eac7e5448e36f5892554598ec6503]
class MyTraceDecoderFactory--><rect codeLine="44" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="53.8359" id="MyTraceDecoderFactory" style="stroke:#A80036;stroke-width:1.5;" width="217" x="255" y="332"/><ellipse cx="294.3" cy="348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M297.0656,343.875 Q297.2219,343.6563 297.4094,343.5469 Q297.5969,343.4375 297.8156,343.4375 Q298.1906,343.4375 298.425,343.6953 Q298.6594,343.9531 298.6594,344.5625 L298.6594,346.0156 Q298.6594,346.625 298.425,346.8906 Q298.1906,347.1563 297.8156,347.1563 Q297.4719,347.1563 297.2688,346.9531 Q297.0656,346.7656 296.9563,346.25 Q296.9094,345.8906 296.7219,345.7031 Q296.3938,345.3281 295.7844,345.1094 Q295.175,344.8906 294.55,344.8906 Q293.7844,344.8906 293.1516,345.2188 Q292.5188,345.5469 292.0266,346.2969 Q291.5344,347.0469 291.5344,348.0781 L291.5344,349.1719 Q291.5344,350.4063 292.425,351.2266 Q293.3156,352.0469 294.9094,352.0469 Q295.8469,352.0469 296.5031,351.7969 Q296.8938,351.6406 297.3156,351.2031 Q297.5813,350.9375 297.7297,350.8594 Q297.8781,350.7813 298.0813,350.7813 Q298.4094,350.7813 298.6672,351.0391 Q298.925,351.2969 298.925,351.6406 Q298.925,351.9844 298.5813,352.3906 Q298.0813,352.9688 297.2844,353.2969 Q296.2063,353.75 294.9094,353.75 Q293.3938,353.75 292.1906,353.125 Q291.2063,352.625 290.5188,351.5547 Q289.8313,350.4844 289.8313,349.2031 L289.8313,348.0469 Q289.8313,346.7188 290.4484,345.5703 Q291.0656,344.4219 292.1594,343.8047 Q293.2531,343.1875 294.4875,343.1875 Q295.2219,343.1875 295.8703,343.3516 Q296.5188,343.5156 297.0656,343.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="131" x="313.7" y="352.9102">MyTraceDecoderFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="256" x2="471" y1="364" y2="364"/><ellipse cx="266" cy="375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="275" y="379.4189">Create(): ITraceDecoder&lt;MyTraceLine&gt;</text><!--MD5=[6f5b3af168009bdc1d98980b769d3111]
class MyTraceDecoder--><rect codeLine="51" fill="#FEFECE" filter="url(#f1p6prdc7x2r5t)" height="53.8359" id="MyTraceDecoder" style="stroke:#A80036;stroke-width:1.5;" width="271" x="590" y="332"/><ellipse cx="675.25" cy="348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M678.0156,343.875 Q678.1719,343.6563 678.3594,343.5469 Q678.5469,343.4375 678.7656,343.4375 Q679.1406,343.4375 679.375,343.6953 Q679.6094,343.9531 679.6094,344.5625 L679.6094,346.0156 Q679.6094,346.625 679.375,346.8906 Q679.1406,347.1563 678.7656,347.1563 Q678.4219,347.1563 678.2188,346.9531 Q678.0156,346.7656 677.9063,346.25 Q677.8594,345.8906 677.6719,345.7031 Q677.3438,345.3281 676.7344,345.1094 Q676.125,344.8906 675.5,344.8906 Q674.7344,344.8906 674.1016,345.2188 Q673.4688,345.5469 672.9766,346.2969 Q672.4844,347.0469 672.4844,348.0781 L672.4844,349.1719 Q672.4844,350.4063 673.375,351.2266 Q674.2656,352.0469 675.8594,352.0469 Q676.7969,352.0469 677.4531,351.7969 Q677.8438,351.6406 678.2656,351.2031 Q678.5313,350.9375 678.6797,350.8594 Q678.8281,350.7813 679.0313,350.7813 Q679.3594,350.7813 679.6172,351.0391 Q679.875,351.2969 679.875,351.6406 Q679.875,351.9844 679.5313,352.3906 Q679.0313,352.9688 678.2344,353.2969 Q677.1563,353.75 675.8594,353.75 Q674.3438,353.75 673.1406,353.125 Q672.1563,352.625 671.4688,351.5547 Q670.7813,350.4844 670.7813,349.2031 L670.7813,348.0469 Q670.7813,346.7188 671.3984,345.5703 Q672.0156,344.4219 673.1094,343.8047 Q674.2031,343.1875 675.4375,343.1875 Q676.1719,343.1875 676.8203,343.3516 Q677.4688,343.5156 678.0156,343.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="695.75" y="352.9102">MyTraceDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="591" x2="860" y1="364" y2="364"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="259" x="596" y="379.4189">Decode(buffer, position) : IEnumerable&lt;MyTraceLine&gt;</text><!--MD5=[6580599906a264bb26cd3a56238f2922]
reverse link ITraceReaderFactory to TraceReaderFactory--><path codeLine="33" d="M141.5,98.53 C141.5,122.34 141.5,149.9 141.5,171.89 " fill="none" id="ITraceReaderFactory-backto-TraceReaderFactory" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="134.5,98.39,141.5,78.39,148.5,98.39,134.5,98.39" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[667e7e310718127647b44cce0084aabb]
reverse link ITraceReader to TraceReader--><path codeLine="35" d="M725.5,91.46 C725.5,117.81 725.5,150.32 725.5,174.94 " fill="none" id="ITraceReader-backto-TraceReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="718.5,91.09,725.5,71.09,732.5,91.09,718.5,91.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1e68ad13d981454debad58ed585053e7]
link TraceReaderFactory to TraceReader--><path codeLine="36" d="M225.03,171.88 C268.83,152.59 324.06,131.72 376,122 C470.98,104.22 578.27,140.83 648.62,172.78 " fill="none" id="TraceReaderFactory-to-TraceReader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="653.2,174.88,646.6898,167.4896,648.656,172.7938,643.3519,174.76,653.2,174.88" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="398.5" y="122.4951">«returns»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="377" y="138.8467">T &gt; MyTraceLine</text><!--MD5=[9469db0513096e84c9405809712129c9]
reverse link ITraceDecoderFactory to MyTraceDecoderFactory--><path codeLine="48" d="M406.22,258.77 C395.93,282.68 383.61,311.29 374.85,331.63 " fill="none" id="ITraceDecoderFactory-backto-MyTraceDecoderFactory" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="399.93,255.68,414.27,240.08,412.79,261.22,399.93,255.68" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="395.5" y="298.4951">T &gt; MyTraceLine</text><!--MD5=[69d751705eb5f795b73a8ecafdf36bf6]
link MyTraceDecoderFactory to MyTraceDecoder--><path codeLine="49" d="M472.11,359 C507.49,359 547.29,359 584.67,359 " fill="none" id="MyTraceDecoderFactory-to-MyTraceDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="589.69,359,580.69,355,584.69,359,580.69,363,589.69,359" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="490.5" y="352.4951">«instantiates»</text><!--MD5=[5f8e1eac2347f2da26dc5a2daf23c9bf]
reverse link ITraceDecoder to MyTraceDecoder--><path codeLine="55" d="M984.2,254.52 C922.15,279.34 844.57,310.37 790.63,331.95 " fill="none" id="ITraceDecoder-backto-MyTraceDecoder" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="981.74,247.97,1002.91,247.04,986.94,260.96,981.74,247.97" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="906.5" y="298.4951">T &gt; MyTraceLine</text><!--MD5=[751afa7a6b3334bb4d59e1354bef03f6]
reverse link TraceReader to MyTraceDecoder--><path codeLine="56" d="M725.5,264.09 C725.5,286.95 725.5,313.06 725.5,331.94 " fill="none" id="TraceReader-backto-MyTraceDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="725.5,251.08,721.5,257.08,725.5,263.08,729.5,257.08,725.5,251.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6e8fa670199032deccab61fc06deaf6b]
reverse link TraceReaderFactory to MyTraceReaderFactory--><path codeLine="58" d="M141.5,274.45 C141.5,299.53 141.5,326.53 141.5,342.84 " fill="none" id="TraceReaderFactory-backto-MyTraceReaderFactory" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="134.5,274.11,141.5,254.11,148.5,274.11,134.5,274.11" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="142.5" y="298.4951">T &gt; MyTraceLine</text><!--MD5=[009b051d08e5fcd0c5e6f65f862610f4]
reverse link MyTraceReaderFactory to MyTraceDecoderFactory--><path codeLine="59" d="M233.57,359 C240.64,359 247.72,359 254.79,359 " fill="none" id="MyTraceReaderFactory-backto-MyTraceDecoderFactory" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="220.41,359,226.41,363,232.41,359,226.41,355,220.41,359" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5ccfacbb78b1ef86932d3968981de227]
reverse link TraceReaderFactory to MyTraceDecoderFactory--><path codeLine="60" d="M214.37,261.27 C250.6,284.77 293.01,312.28 323.32,331.94 " fill="none" id="TraceReaderFactory-backto-MyTraceDecoderFactory" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="203.34,254.11,206.1965,260.7312,213.407,260.641,210.5505,254.0198,203.34,254.11" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[baeee813e2537e8ec2bf6e372ece45d6]
@startuml ITraceDecoder
hide empty members

interface ITraceReader<T : ITraceLine> {
    GetLineAsync() : T
}

interface ITraceDecoderFactory<T : ITraceLine> {
    Create() : ITraceDecoder<T>
}

interface ITraceReaderFactory<T : ITraceLine> {
    CreateAsync(stream: Stream) : ITraceReader<T>
    CreateAsync(fileName: string) : ITraceReader<T>
}

interface ITraceDecoder<T : ITraceLine> {
    Decode(buffer: ReadOnlySpan<byte>, position: long) : IEnumerable<T>
    Flush() : IEnumerable<T>
}

class TraceReaderFactory<T : ITraceLine> {
    #.ctor(decoderFactory: ITraceDecoderFactory<T>)
    +CreateAsync(stream: Stream) : ITraceReader<T>
    +CreateAsync(fileName: string) : ITraceReader<T>
}

class TraceReader<T : ITraceLine> {
    TraceReader(stream: Stream, decoder: ITraceDecoder<T>)
    ..
    GetLineAsync() : T
}

ITraceReaderFactory <|.. TraceReaderFactory

TraceReader .u.|> ITraceReader
TraceReaderFactory -r-> TraceReader : <<returns>>\nT > MyTraceLine

class MyTraceReaderFactory { }
note bottom
    User instantiates this class
    to get the <b>TraceReader</b>.
end note

class MyTraceDecoderFactory {
    +Create(): ITraceDecoder<MyTraceLine>
}

MyTraceDecoderFactory .u.|> ITraceDecoderFactory : T > MyTraceLine
MyTraceDecoderFactory -r-> MyTraceDecoder : <<instantiates>>

class MyTraceDecoder {
    Decode(buffer, position) : IEnumerable<MyTraceLine>
}

MyTraceDecoder .u.|> ITraceDecoder : T > MyTraceLine
MyTraceDecoder -u-o TraceReader

TraceReaderFactory <|- - MyTraceReaderFactory : T > MyTraceLine
MyTraceReaderFactory *-r- MyTraceDecoderFactory
TraceReaderFactory o- MyTraceDecoderFactory
@enduml

PlantUML version 1.2022.1(Tue Feb 01 19:19:58 CET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="667px" preserveAspectRatio="none" style="width:469px;height:667px;background:#FFFFFF;" version="1.1" viewBox="0 0 469 667" width="469px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p6yduny9cf2k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="192.5" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="160.0156"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="255.0703"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="355.125"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="431.6641"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="539.7188"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="591.0703"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="442.4063" style="stroke:#000000;stroke-width:2.0;" width="445" x="10" y="119.3125"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="111.4063" style="stroke:#000000;stroke-width:2.0;" width="425" x="20" y="189.0156"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="405" x="30" y="214.3672"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="357" x="30" y="314.4219"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="357" x="30" y="393.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="41.6094" y2="623.0703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="197" x2="197" y1="41.6094" y2="623.0703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="328" x2="328" y1="41.6094" y2="623.0703"/><rect fill="#FEFECE" filter="url(#f1p6yduny9cf2k)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="71" x="40" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="47" y="26.5332">FilterApp</text><rect fill="#FEFECE" filter="url(#f1p6yduny9cf2k)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="71" x="40" y="622.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="47" y="643.6035">FilterApp</text><rect fill="#FEFECE" filter="url(#f1p6yduny9cf2k)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="125" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="132" y="26.5332">IInputStreamFactory</text><rect fill="#FEFECE" filter="url(#f1p6yduny9cf2k)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="125" y="622.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="132" y="643.6035">IInputStreamFactory</text><rect fill="#FEFECE" filter="url(#f1p6yduny9cf2k)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="280" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="287" y="26.5332">IInputStream</text><rect fill="#FEFECE" filter="url(#f1p6yduny9cf2k)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="280" y="622.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="287" y="643.6035">IInputStream</text><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="192.5" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="160.0156"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="255.0703"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="355.125"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="431.6641"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="539.7188"/><rect fill="#FFFFFF" filter="url(#f1p6yduny9cf2k)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="323.5" y="591.0703"/><polygon fill="#A80036" points="180.5,69.9609,190.5,73.9609,180.5,77.9609,184.5,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="186.5" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="84.5" y="69.1045">Create(uri)</text><polygon fill="#A80036" points="88.5,100.3125,78.5,104.3125,88.5,108.3125,84.5,104.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="196.5" y1="104.3125" y2="104.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="94.5" y="99.4561">IInputStream</text><path d="M10,119.3125 L83,119.3125 L83,127.3125 L73,137.3125 L10,137.3125 L10,119.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="442.4063" style="stroke:#000000;stroke-width:2.0;" width="445" x="10" y="119.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="133.8076">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="98" y="132.7314">[Process File]</text><polygon fill="#A80036" points="311.5,156.0156,321.5,160.0156,311.5,164.0156,315.5,160.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="317.5" y1="160.0156" y2="160.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="84.5" y="155.1592">Open()</text><polygon fill="#A80036" points="88.5,170.0156,78.5,174.0156,88.5,178.0156,84.5,174.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="327.5" y1="174.0156" y2="174.0156"/><path d="M20,189.0156 L81,189.0156 L81,197.0156 L71,207.0156 L20,207.0156 L20,189.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="111.4063" style="stroke:#000000;stroke-width:2.0;" width="425" x="20" y="189.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="203.5107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="233" x="96" y="202.4346">[inputStream.RequiresConnection == true]</text><path d="M30,214.3672 L103,214.3672 L103,222.3672 L93,232.3672 L30,232.3672 L30,214.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="405" x="30" y="214.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="45" y="228.8623">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="312" x="118" y="227.7861">[!connected &amp;&amp; (retries &lt; 0 || connectAttempt &lt;= retries)]</text><polygon fill="#A80036" points="311.5,251.0703,321.5,255.0703,311.5,259.0703,315.5,255.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="317.5" y1="255.0703" y2="255.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="84.5" y="250.2139">ConnectAsync()</text><polygon fill="#A80036" points="88.5,281.4219,78.5,285.4219,88.5,289.4219,84.5,285.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="327.5" y1="285.4219" y2="285.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="94.5" y="280.5654">connected: bool</text><path d="M30,314.4219 L91,314.4219 L91,322.4219 L81,332.4219 L30,332.4219 L30,314.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="357" x="30" y="314.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="45" y="328.917">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="106" y="327.8408">[Stream based input]</text><polygon fill="#A80036" points="311.5,351.125,321.5,355.125,311.5,359.125,315.5,355.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="317.5" y1="355.125" y2="355.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="84.5" y="350.2686">get_InputStream()</text><polygon fill="#A80036" points="88.5,381.4766,78.5,385.4766,88.5,389.4766,84.5,385.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="327.5" y1="385.4766" y2="385.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="94.5" y="380.6201">Stream</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="387" y1="394.4766" y2="394.4766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113" x="35" y="405.8955">[Packet based input]</text><polygon fill="#A80036" points="311.5,427.6641,321.5,431.6641,311.5,435.6641,315.5,431.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="317.5" y1="431.6641" y2="431.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="84.5" y="426.8076">get_InputPacket()</text><polygon fill="#A80036" points="88.5,458.0156,78.5,462.0156,88.5,466.0156,84.5,462.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="327.5" y1="462.0156" y2="462.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="94.5" y="457.1592">IPacket</text><path d="M25,482.0156 L25,508.0156 L126,508.0156 L126,492.0156 L116,482.0156 L25,482.0156 " fill="#FBFB77" filter="url(#f1p6yduny9cf2k)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M116,482.0156 L116,492.0156 L126,492.0156 L116,482.0156 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="31" y="500.5107">Process Input</text><polygon fill="#A80036" points="311.5,535.7188,321.5,539.7188,311.5,543.7188,315.5,539.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="317.5" y1="539.7188" y2="539.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="84.5" y="534.8623">Close()</text><polygon fill="#A80036" points="88.5,549.7188,78.5,553.7188,88.5,557.7188,84.5,553.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="327.5" y1="553.7188" y2="553.7188"/><polygon fill="#A80036" points="311.5,587.0703,321.5,591.0703,311.5,595.0703,315.5,591.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="317.5" y1="591.0703" y2="591.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="84.5" y="586.2139">Dispose()</text><polygon fill="#A80036" points="88.5,601.0703,78.5,605.0703,88.5,609.0703,84.5,605.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="327.5" y1="605.0703" y2="605.0703"/><!--MD5=[350dd54b0c4bce64336a2b3b4d95cb19]
@startuml Domain.InputStream_Sequence
autoactivate on

FilterApp -> IInputStreamFactory : Create(uri)
return IInputStream

loop Process File

    FilterApp -> IInputStream : Open()
    return

    alt inputStream.RequiresConnection == true

        loop !connected && (retries < 0 || connectAttempt <= retries)

            FilterApp -> IInputStream : ConnectAsync()
            return connected: bool

        end

    end

    alt Stream based input

        FilterApp -> IInputStream : get_InputStream()
        return Stream

    else Packet based input

        FilterApp -> IInputStream : get_InputPacket()
        return IPacket

    end

    note over FilterApp
        Process Input
    end note

    FilterApp -> IInputStream : Close()
    return

end

FilterApp -> IInputStream : Dispose()
return

@enduml

PlantUML version 1.2022.1(Tue Feb 01 19:19:58 CET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>
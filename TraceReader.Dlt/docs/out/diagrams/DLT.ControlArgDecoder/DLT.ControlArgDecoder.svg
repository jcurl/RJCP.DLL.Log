<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="520px" preserveAspectRatio="none" style="width:1078px;height:520px;background:#FFFFFF;" version="1.1" viewBox="0 0 1078 520" width="1078px" zoomAndPan="magnify"><defs><filter height="300%" id="fsw0zzxg7rhcj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[56ef6c3cdcd90afa1639dddf226044ae]
class IControlDltDecoder--><rect codeLine="1" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="61.8359" id="IControlDltDecoder" style="stroke:#A80036;stroke-width:1.5;" width="399" x="404.5" y="12.5"/><ellipse cx="546.75" cy="28.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M547.7031,25.1406 L547.7031,31.7969 L549.4219,31.7969 Q550.0313,31.7969 550.2969,32.0313 Q550.5625,32.2656 550.5625,32.6563 Q550.5625,33.0313 550.2969,33.2656 Q550.0313,33.5 549.4219,33.5 L544.2813,33.5 Q543.6719,33.5 543.4063,33.2656 Q543.1406,33.0313 543.1406,32.6406 Q543.1406,32.2656 543.4063,32.0313 Q543.6719,31.7969 544.2813,31.7969 L546,31.7969 L546,25.1406 L544.2813,25.1406 Q543.6719,25.1406 543.4063,24.9063 Q543.1406,24.6719 543.1406,24.2813 Q543.1406,23.9063 543.4063,23.6719 Q543.6719,23.4375 544.2813,23.4375 L549.4219,23.4375 Q550.0313,23.4375 550.2969,23.6719 Q550.5625,23.9063 550.5625,24.2813 Q550.5625,24.6719 550.2969,24.9063 Q550.0313,25.1406 549.4219,25.1406 L547.7031,25.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="106" x="567.25" y="33.4102">IControlDltDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="405.5" x2="802.5" y1="44.5" y2="44.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="405.5" x2="802.5" y1="52.5" y2="52.5"/><ellipse cx="415.5" cy="63.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="373" x="424.5" y="67.9189">Decode(buffer: ReadOnlySpan&lt;byte&gt;, lineBuilder: IDltLineBuilder): Result&lt;int&gt;</text><path d="M839,6 L839,39.5 L803.61,43.5 L839,47.5 L839,81.4063 A0,0 0 0 0 839,81.4063 L1069,81.4063 A0,0 0 0 0 1069,81.4063 L1069,16 L1059,6 L839,6 A0,0 0 0 0 839,6 " fill="#FBFB77" filter="url(#fsw0zzxg7rhcj)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1059,6 L1059,16 L1069,16 L1059,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="845" y="24.4951">Defines the general interface on how</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="845" y="40.8467">to decode all control responses and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="845" y="57.1982">requests. The buffer is where the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="845" y="73.5498">control payload starts.</text><!--MD5=[362837878af92ba71ae40d034f8eec69]
class DltTraceDecoderBase--><rect codeLine="11" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="48" id="DltTraceDecoderBase" style="stroke:#A80036;stroke-width:1.5;" width="154" x="172" y="19.5"/><ellipse cx="187" cy="35.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M189.7656,31.375 Q189.9219,31.1563 190.1094,31.0469 Q190.2969,30.9375 190.5156,30.9375 Q190.8906,30.9375 191.125,31.1953 Q191.3594,31.4531 191.3594,32.0625 L191.3594,33.5156 Q191.3594,34.125 191.125,34.3906 Q190.8906,34.6563 190.5156,34.6563 Q190.1719,34.6563 189.9688,34.4531 Q189.7656,34.2656 189.6563,33.75 Q189.6094,33.3906 189.4219,33.2031 Q189.0938,32.8281 188.4844,32.6094 Q187.875,32.3906 187.25,32.3906 Q186.4844,32.3906 185.8516,32.7188 Q185.2188,33.0469 184.7266,33.7969 Q184.2344,34.5469 184.2344,35.5781 L184.2344,36.6719 Q184.2344,37.9063 185.125,38.7266 Q186.0156,39.5469 187.6094,39.5469 Q188.5469,39.5469 189.2031,39.2969 Q189.5938,39.1406 190.0156,38.7031 Q190.2813,38.4375 190.4297,38.3594 Q190.5781,38.2813 190.7813,38.2813 Q191.1094,38.2813 191.3672,38.5391 Q191.625,38.7969 191.625,39.1406 Q191.625,39.4844 191.2813,39.8906 Q190.7813,40.4688 189.9844,40.7969 Q188.9063,41.25 187.6094,41.25 Q186.0938,41.25 184.8906,40.625 Q183.9063,40.125 183.2188,39.0547 Q182.5313,37.9844 182.5313,36.7031 L182.5313,35.5469 Q182.5313,34.2188 183.1484,33.0703 Q183.7656,31.9219 184.8594,31.3047 Q185.9531,30.6875 187.1875,30.6875 Q187.9219,30.6875 188.5703,30.8516 Q189.2188,31.0156 189.7656,31.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="201" y="40.4102">DltTraceDecoderBase</text><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="325" y1="51.5" y2="51.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="325" y1="59.5" y2="59.5"/><!--MD5=[19f09d2ea9f363fea798f3b34c0107b2]
class ControlDltDecoder--><rect codeLine="12" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="48" id="ControlDltDecoder" style="stroke:#A80036;stroke-width:1.5;" width="134" x="537" y="172"/><ellipse cx="552" cy="188" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M554.7656,183.875 Q554.9219,183.6563 555.1094,183.5469 Q555.2969,183.4375 555.5156,183.4375 Q555.8906,183.4375 556.125,183.6953 Q556.3594,183.9531 556.3594,184.5625 L556.3594,186.0156 Q556.3594,186.625 556.125,186.8906 Q555.8906,187.1563 555.5156,187.1563 Q555.1719,187.1563 554.9688,186.9531 Q554.7656,186.7656 554.6563,186.25 Q554.6094,185.8906 554.4219,185.7031 Q554.0938,185.3281 553.4844,185.1094 Q552.875,184.8906 552.25,184.8906 Q551.4844,184.8906 550.8516,185.2188 Q550.2188,185.5469 549.7266,186.2969 Q549.2344,187.0469 549.2344,188.0781 L549.2344,189.1719 Q549.2344,190.4063 550.125,191.2266 Q551.0156,192.0469 552.6094,192.0469 Q553.5469,192.0469 554.2031,191.7969 Q554.5938,191.6406 555.0156,191.2031 Q555.2813,190.9375 555.4297,190.8594 Q555.5781,190.7813 555.7813,190.7813 Q556.1094,190.7813 556.3672,191.0391 Q556.625,191.2969 556.625,191.6406 Q556.625,191.9844 556.2813,192.3906 Q555.7813,192.9688 554.9844,193.2969 Q553.9063,193.75 552.6094,193.75 Q551.0938,193.75 549.8906,193.125 Q548.9063,192.625 548.2188,191.5547 Q547.5313,190.4844 547.5313,189.2031 L547.5313,188.0469 Q547.5313,186.7188 548.1484,185.5703 Q548.7656,184.4219 549.8594,183.8047 Q550.9531,183.1875 552.1875,183.1875 Q552.9219,183.1875 553.5703,183.3516 Q554.2188,183.5156 554.7656,183.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="566" y="192.9102">ControlDltDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="538" x2="670" y1="204" y2="204"/><line style="stroke:#A80036;stroke-width:1.5;" x1="538" x2="670" y1="212" y2="212"/><path d="M228.5,142 L228.5,250.1094 A0,0 0 0 0 228.5,250.1094 L501.5,250.1094 A0,0 0 0 0 501.5,250.1094 L501.5,200 L536.91,196 L501.5,192 L501.5,152 L491.5,142 L228.5,142 A0,0 0 0 0 228.5,142 " fill="#FBFB77" filter="url(#fsw0zzxg7rhcj)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M491.5,142 L491.5,152 L501.5,152 L491.5,142 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="234.5" y="160.4951">Checks the `lineBuilder` to know the type of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="234.5" y="176.8467">Dlt Message, which is then used to know if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="234.5" y="193.1982">this is a request or a response. It gets the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="234.5" y="209.5498">control payload `IControlArg` and sets this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="234.5" y="225.9014">to `lineBuilder` that it knows how to return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="234.5" y="242.2529">the entire line.</text><!--MD5=[6e5c003b2095e310fc9048ff7f2b88b9]
class IControlArg--><rect codeLine="25" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="61.8359" id="IControlArg" style="stroke:#A80036;stroke-width:1.5;" width="115" x="924.5" y="435"/><ellipse cx="948.5" cy="451" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M949.4531,447.6406 L949.4531,454.2969 L951.1719,454.2969 Q951.7813,454.2969 952.0469,454.5313 Q952.3125,454.7656 952.3125,455.1563 Q952.3125,455.5313 952.0469,455.7656 Q951.7813,456 951.1719,456 L946.0313,456 Q945.4219,456 945.1563,455.7656 Q944.8906,455.5313 944.8906,455.1406 Q944.8906,454.7656 945.1563,454.5313 Q945.4219,454.2969 946.0313,454.2969 L947.75,454.2969 L947.75,447.6406 L946.0313,447.6406 Q945.4219,447.6406 945.1563,447.4063 Q944.8906,447.1719 944.8906,446.7813 Q944.8906,446.4063 945.1563,446.1719 Q945.4219,445.9375 946.0313,445.9375 L951.1719,445.9375 Q951.7813,445.9375 952.0469,446.1719 Q952.3125,446.4063 952.3125,446.7813 Q952.3125,447.1719 952.0469,447.4063 Q951.7813,447.6406 951.1719,447.6406 L949.4531,447.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="964.5" y="455.9102">IControlArg</text><line style="stroke:#A80036;stroke-width:1.5;" x1="925.5" x2="1038.5" y1="467" y2="467"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="930.5" y="482.4189">DefaultType : DltType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="925.5" x2="1038.5" y1="488.8359" y2="488.8359"/><!--MD5=[7fb2afcb184e496e4ef7df201a12eb67]
class IControlArgDecoder--><rect codeLine="29" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="61.8359" id="IControlArgDecoder" style="stroke:#A80036;stroke-width:1.5;" width="454" x="377" y="435"/><ellipse cx="544.75" cy="451" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M545.7031,447.6406 L545.7031,454.2969 L547.4219,454.2969 Q548.0313,454.2969 548.2969,454.5313 Q548.5625,454.7656 548.5625,455.1563 Q548.5625,455.5313 548.2969,455.7656 Q548.0313,456 547.4219,456 L542.2813,456 Q541.6719,456 541.4063,455.7656 Q541.1406,455.5313 541.1406,455.1406 Q541.1406,454.7656 541.4063,454.5313 Q541.6719,454.2969 542.2813,454.2969 L544,454.2969 L544,447.6406 L542.2813,447.6406 Q541.6719,447.6406 541.4063,447.4063 Q541.1406,447.1719 541.1406,446.7813 Q541.1406,446.4063 541.4063,446.1719 Q541.6719,445.9375 542.2813,445.9375 L547.4219,445.9375 Q548.0313,445.9375 548.2969,446.1719 Q548.5625,446.4063 548.5625,446.7813 Q548.5625,447.1719 548.2969,447.4063 Q548.0313,447.6406 547.4219,447.6406 L545.7031,447.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110" x="565.25" y="455.9102">IControlArgDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="830" y1="467" y2="467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="830" y1="475" y2="475"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="442" x="383" y="490.4189">Decode(serviceId: int, buffer: ReadOnlySpan&lt;byte&gt;, [out] service: IControlArg*): Result&lt;int&gt;</text><path d="M6,420 L6,511.7578 A0,0 0 0 0 6,511.7578 L342,511.7578 A0,0 0 0 0 342,511.7578 L342,470 L376.88,466 L342,462 L342,430 L332,420 L6,420 A0,0 0 0 0 6,420 " fill="#FBFB77" filter="url(#fsw0zzxg7rhcj)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M332,420 L332,430 L342,430 L332,420 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="12" y="438.4951">Each instance knows how to decode a single control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="12" y="454.8467">message. The</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="52" x="98" y="454.8467">serviceId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="154" y="454.8467">is already known to find this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="12" y="471.1982">instance. On return it provides a new control message.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="12" y="487.5498">The input</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="69" y="487.5498">buffer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="107" y="487.5498">points to the payload of the control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="12" y="503.9014">message.</text><!--MD5=[8820c8d5cf5442f2fecd1b1aad5fe8d2]
class ControlRequestDecoder--><rect codeLine="40" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="48" id="ControlRequestDecoder" style="stroke:#A80036;stroke-width:1.5;" width="166" x="397" y="311"/><ellipse cx="412" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M414.7656,322.875 Q414.9219,322.6563 415.1094,322.5469 Q415.2969,322.4375 415.5156,322.4375 Q415.8906,322.4375 416.125,322.6953 Q416.3594,322.9531 416.3594,323.5625 L416.3594,325.0156 Q416.3594,325.625 416.125,325.8906 Q415.8906,326.1563 415.5156,326.1563 Q415.1719,326.1563 414.9688,325.9531 Q414.7656,325.7656 414.6563,325.25 Q414.6094,324.8906 414.4219,324.7031 Q414.0938,324.3281 413.4844,324.1094 Q412.875,323.8906 412.25,323.8906 Q411.4844,323.8906 410.8516,324.2188 Q410.2188,324.5469 409.7266,325.2969 Q409.2344,326.0469 409.2344,327.0781 L409.2344,328.1719 Q409.2344,329.4063 410.125,330.2266 Q411.0156,331.0469 412.6094,331.0469 Q413.5469,331.0469 414.2031,330.7969 Q414.5938,330.6406 415.0156,330.2031 Q415.2813,329.9375 415.4297,329.8594 Q415.5781,329.7813 415.7813,329.7813 Q416.1094,329.7813 416.3672,330.0391 Q416.625,330.2969 416.625,330.6406 Q416.625,330.9844 416.2813,331.3906 Q415.7813,331.9688 414.9844,332.2969 Q413.9063,332.75 412.6094,332.75 Q411.0938,332.75 409.8906,332.125 Q408.9063,331.625 408.2188,330.5547 Q407.5313,329.4844 407.5313,328.2031 L407.5313,327.0469 Q407.5313,325.7188 408.1484,324.5703 Q408.7656,323.4219 409.8594,322.8047 Q410.9531,322.1875 412.1875,322.1875 Q412.9219,322.1875 413.5703,322.3516 Q414.2188,322.5156 414.7656,322.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="426" y="331.9102">ControlRequestDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="398" x2="562" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="398" x2="562" y1="351" y2="351"/><!--MD5=[e5eefd7235942efa17a66a20c6abee2d]
class ControlResponseDecoder--><rect codeLine="41" fill="#FEFECE" filter="url(#fsw0zzxg7rhcj)" height="48" id="ControlResponseDecoder" style="stroke:#A80036;stroke-width:1.5;" width="177" x="598.5" y="311"/><ellipse cx="613.5" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M616.2656,322.875 Q616.4219,322.6563 616.6094,322.5469 Q616.7969,322.4375 617.0156,322.4375 Q617.3906,322.4375 617.625,322.6953 Q617.8594,322.9531 617.8594,323.5625 L617.8594,325.0156 Q617.8594,325.625 617.625,325.8906 Q617.3906,326.1563 617.0156,326.1563 Q616.6719,326.1563 616.4688,325.9531 Q616.2656,325.7656 616.1563,325.25 Q616.1094,324.8906 615.9219,324.7031 Q615.5938,324.3281 614.9844,324.1094 Q614.375,323.8906 613.75,323.8906 Q612.9844,323.8906 612.3516,324.2188 Q611.7188,324.5469 611.2266,325.2969 Q610.7344,326.0469 610.7344,327.0781 L610.7344,328.1719 Q610.7344,329.4063 611.625,330.2266 Q612.5156,331.0469 614.1094,331.0469 Q615.0469,331.0469 615.7031,330.7969 Q616.0938,330.6406 616.5156,330.2031 Q616.7813,329.9375 616.9297,329.8594 Q617.0781,329.7813 617.2813,329.7813 Q617.6094,329.7813 617.8672,330.0391 Q618.125,330.2969 618.125,330.6406 Q618.125,330.9844 617.7813,331.3906 Q617.2813,331.9688 616.4844,332.2969 Q615.4063,332.75 614.1094,332.75 Q612.5938,332.75 611.3906,332.125 Q610.4063,331.625 609.7188,330.5547 Q609.0313,329.4844 609.0313,328.2031 L609.0313,327.0469 Q609.0313,325.7188 609.6484,324.5703 Q610.2656,323.4219 611.3594,322.8047 Q612.4531,322.1875 613.6875,322.1875 Q614.4219,322.1875 615.0703,322.3516 Q615.7188,322.5156 616.2656,322.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="627.5" y="331.9102">ControlResponseDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="599.5" x2="774.5" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="599.5" x2="774.5" y1="351" y2="351"/><!--MD5=[d7f1c15275b2e0d7d5272687f579029f]
link DltTraceDecoderBase to IControlDltDecoder--><path codeLine="22" d="M326.03,43.5 C348.11,43.5 373.28,43.5 399.26,43.5 " fill="none" id="DltTraceDecoderBase-to-IControlDltDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="404.46,43.5,395.46,39.5,399.46,43.5,395.46,47.5,404.46,43.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="344.25" y="36.9951">«uses»</text><!--MD5=[1827bed504f69dacd42eb8ab045a2387]
reverse link IControlDltDecoder to ControlDltDecoder--><path codeLine="23" d="M604,94.68 C604,120.75 604,151.36 604,171.85 " fill="none" id="IControlDltDecoder-backto-ControlDltDecoder" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="597,94.59,604,74.59,611,94.59,597,94.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cdd27be86eabe01f31b4b5192ace5c68]
reverse link ControlRequestDecoder to IControlArgDecoder--><path codeLine="43" d="M511.29,368.55 C530.86,388.91 555.9,414.96 575.02,434.85 " fill="none" id="ControlRequestDecoder-backto-IControlArgDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="502.17,359.06,503.4466,366.1572,510.4889,367.7085,509.2123,360.6113,502.17,359.06" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="499.7208" y="380.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="546.9804" y="424.3236">1..*</text><!--MD5=[375bc67f5df660683af3f4925e18302d]
reverse link ControlResponseDecoder to IControlArgDecoder--><path codeLine="44" d="M664.98,370.23 C652.04,390.33 635.85,415.5 623.4,434.85 " fill="none" id="ControlResponseDecoder-backto-IControlArgDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="672.16,359.06,665.5475,361.9366,665.6596,369.1469,672.2721,366.2702,672.16,359.06" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="660.6896" y="380.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="605.3388" y="424.3236">1..*</text><!--MD5=[8e6f8ff614f07c83d5bb16509e4218ff]
reverse link ControlDltDecoder to ControlRequestDecoder--><path codeLine="46" d="M574.14,229.99 C551.6,254.9 521.21,288.46 501.14,310.65 " fill="none" id="ControlDltDecoder-backto-ControlRequestDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="582.97,220.24,575.9781,222.0045,574.9177,229.1372,581.9096,227.3727,582.97,220.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2d12576114afd34ab36bd603aed5ea8c]
reverse link ControlDltDecoder to ControlResponseDecoder--><path codeLine="47" d="M625,231.66 C639.98,256.38 659.71,288.96 672.85,310.65 " fill="none" id="ControlDltDecoder-backto-ControlResponseDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="618.08,220.24,617.7682,227.4444,624.2985,230.5031,624.6103,223.2987,618.08,220.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[65949c13623bc9df9a2fd40396bb8f66]
link IControlArgDecoder to IControlArg--><path codeLine="49" d="M831.25,466 C863.41,466 894.02,466 919.16,466 " fill="none" id="IControlArgDecoder-to-IControlArg" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="924.44,466,915.44,462,919.44,466,915.44,470,924.44,466" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="849.25" y="459.4951">«creates»</text><!--MD5=[3a838906a25741acaee0581a23f31e92]
@startuml DLT.ControlArgDecoder
interface IControlDltDecoder {
    +Decode(buffer: ReadOnlySpan<byte>, lineBuilder: IDltLineBuilder): Result<int>
}
note right
    Defines the general interface on how
    to decode all control responses and
    requests. The buffer is where the
    control payload starts.
end note

class DltTraceDecoderBase
class ControlDltDecoder
note left
    Checks the `lineBuilder` to know the type of
    Dlt Message, which is then used to know if
    this is a request or a response. It gets the
    control payload `IControlArg` and sets this
    to `lineBuilder` that it knows how to return
    the entire line.
end note

DltTraceDecoderBase -r-> IControlDltDecoder : <<uses>>
ControlDltDecoder .u.|> IControlDltDecoder

interface IControlArg {
    DefaultType : DltType
}

interface IControlArgDecoder {
    Decode(serviceId: int, buffer: ReadOnlySpan<byte>, [out] service: IControlArg*): Result<int>
}
note left
    Each instance knows how to decode a single control
    message. The <i>serviceId</i> is already known to find this
    instance. On return it provides a new control message.
    The input <i>buffer</i> points to the payload of the control
    message.
end note

class ControlRequestDecoder
class ControlResponseDecoder

ControlRequestDecoder "1" *-d- "1..*" IControlArgDecoder
ControlResponseDecoder "1" *-d- "1..*" IControlArgDecoder

ControlDltDecoder *-d- ControlRequestDecoder
ControlDltDecoder *-d- ControlResponseDecoder

IControlArgDecoder .r.> IControlArg : <<creates>>
@enduml

PlantUML version 1.2022.1(Tue Feb 01 19:19:58 CET 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="520px" preserveAspectRatio="none" style="width:1119px;height:520px;background:#FFFFFF;" version="1.1" viewBox="0 0 1119 520" width="1119px" zoomAndPan="magnify"><defs><filter height="300%" id="f18q7tj7st0qff" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[56ef6c3cdcd90afa1639dddf226044ae]
class IControlDltDecoder--><rect codeLine="1" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="61.8359" id="IControlDltDecoder" style="stroke:#A80036;stroke-width:1.5;" width="357" x="468.5" y="12.5"/><ellipse cx="589.75" cy="28.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M590.7031,25.1406 L590.7031,31.7969 L592.4219,31.7969 Q593.0313,31.7969 593.2969,32.0313 Q593.5625,32.2656 593.5625,32.6563 Q593.5625,33.0313 593.2969,33.2656 Q593.0313,33.5 592.4219,33.5 L587.2813,33.5 Q586.6719,33.5 586.4063,33.2656 Q586.1406,33.0313 586.1406,32.6406 Q586.1406,32.2656 586.4063,32.0313 Q586.6719,31.7969 587.2813,31.7969 L589,31.7969 L589,25.1406 L587.2813,25.1406 Q586.6719,25.1406 586.4063,24.9063 Q586.1406,24.6719 586.1406,24.2813 Q586.1406,23.9063 586.4063,23.6719 Q586.6719,23.4375 587.2813,23.4375 L592.4219,23.4375 Q593.0313,23.4375 593.2969,23.6719 Q593.5625,23.9063 593.5625,24.2813 Q593.5625,24.6719 593.2969,24.9063 Q593.0313,25.1406 592.4219,25.1406 L590.7031,25.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="106" x="610.25" y="33.4102">IControlDltDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="469.5" x2="824.5" y1="44.5" y2="44.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="469.5" x2="824.5" y1="52.5" y2="52.5"/><ellipse cx="479.5" cy="63.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="331" x="488.5" y="67.9189">Decode(buffer: ReadOnlySpan&lt;byte&gt;, lineBuilder: IDltLineBuilder): int</text><path d="M861,6 L861,39.5 L825.64,43.5 L861,47.5 L861,81.4063 A0,0 0 0 0 861,81.4063 L1091,81.4063 A0,0 0 0 0 1091,81.4063 L1091,16 L1081,6 L861,6 A0,0 0 0 0 861,6 " fill="#FBFB77" filter="url(#f18q7tj7st0qff)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1081,6 L1081,16 L1091,16 L1081,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="867" y="24.4951">Defines the general interface on how</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="867" y="40.8467">to decode all control responses and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="867" y="57.1982">requests. The buffer is where the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="867" y="73.5498">control payload starts.</text><!--MD5=[362837878af92ba71ae40d034f8eec69]
class DltTraceDecoderBase--><rect codeLine="11" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="48" id="DltTraceDecoderBase" style="stroke:#A80036;stroke-width:1.5;" width="154" x="236" y="19.5"/><ellipse cx="251" cy="35.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M253.7656,31.375 Q253.9219,31.1563 254.1094,31.0469 Q254.2969,30.9375 254.5156,30.9375 Q254.8906,30.9375 255.125,31.1953 Q255.3594,31.4531 255.3594,32.0625 L255.3594,33.5156 Q255.3594,34.125 255.125,34.3906 Q254.8906,34.6563 254.5156,34.6563 Q254.1719,34.6563 253.9688,34.4531 Q253.7656,34.2656 253.6563,33.75 Q253.6094,33.3906 253.4219,33.2031 Q253.0938,32.8281 252.4844,32.6094 Q251.875,32.3906 251.25,32.3906 Q250.4844,32.3906 249.8516,32.7188 Q249.2188,33.0469 248.7266,33.7969 Q248.2344,34.5469 248.2344,35.5781 L248.2344,36.6719 Q248.2344,37.9063 249.125,38.7266 Q250.0156,39.5469 251.6094,39.5469 Q252.5469,39.5469 253.2031,39.2969 Q253.5938,39.1406 254.0156,38.7031 Q254.2813,38.4375 254.4297,38.3594 Q254.5781,38.2813 254.7813,38.2813 Q255.1094,38.2813 255.3672,38.5391 Q255.625,38.7969 255.625,39.1406 Q255.625,39.4844 255.2813,39.8906 Q254.7813,40.4688 253.9844,40.7969 Q252.9063,41.25 251.6094,41.25 Q250.0938,41.25 248.8906,40.625 Q247.9063,40.125 247.2188,39.0547 Q246.5313,37.9844 246.5313,36.7031 L246.5313,35.5469 Q246.5313,34.2188 247.1484,33.0703 Q247.7656,31.9219 248.8594,31.3047 Q249.9531,30.6875 251.1875,30.6875 Q251.9219,30.6875 252.5703,30.8516 Q253.2188,31.0156 253.7656,31.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="265" y="40.4102">DltTraceDecoderBase</text><line style="stroke:#A80036;stroke-width:1.5;" x1="237" x2="389" y1="51.5" y2="51.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="237" x2="389" y1="59.5" y2="59.5"/><!--MD5=[19f09d2ea9f363fea798f3b34c0107b2]
class ControlDltDecoder--><rect codeLine="12" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="48" id="ControlDltDecoder" style="stroke:#A80036;stroke-width:1.5;" width="134" x="580" y="172"/><ellipse cx="595" cy="188" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M597.7656,183.875 Q597.9219,183.6563 598.1094,183.5469 Q598.2969,183.4375 598.5156,183.4375 Q598.8906,183.4375 599.125,183.6953 Q599.3594,183.9531 599.3594,184.5625 L599.3594,186.0156 Q599.3594,186.625 599.125,186.8906 Q598.8906,187.1563 598.5156,187.1563 Q598.1719,187.1563 597.9688,186.9531 Q597.7656,186.7656 597.6563,186.25 Q597.6094,185.8906 597.4219,185.7031 Q597.0938,185.3281 596.4844,185.1094 Q595.875,184.8906 595.25,184.8906 Q594.4844,184.8906 593.8516,185.2188 Q593.2188,185.5469 592.7266,186.2969 Q592.2344,187.0469 592.2344,188.0781 L592.2344,189.1719 Q592.2344,190.4063 593.125,191.2266 Q594.0156,192.0469 595.6094,192.0469 Q596.5469,192.0469 597.2031,191.7969 Q597.5938,191.6406 598.0156,191.2031 Q598.2813,190.9375 598.4297,190.8594 Q598.5781,190.7813 598.7813,190.7813 Q599.1094,190.7813 599.3672,191.0391 Q599.625,191.2969 599.625,191.6406 Q599.625,191.9844 599.2813,192.3906 Q598.7813,192.9688 597.9844,193.2969 Q596.9063,193.75 595.6094,193.75 Q594.0938,193.75 592.8906,193.125 Q591.9063,192.625 591.2188,191.5547 Q590.5313,190.4844 590.5313,189.2031 L590.5313,188.0469 Q590.5313,186.7188 591.1484,185.5703 Q591.7656,184.4219 592.8594,183.8047 Q593.9531,183.1875 595.1875,183.1875 Q595.9219,183.1875 596.5703,183.3516 Q597.2188,183.5156 597.7656,183.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="609" y="192.9102">ControlDltDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="581" x2="713" y1="204" y2="204"/><line style="stroke:#A80036;stroke-width:1.5;" x1="581" x2="713" y1="212" y2="212"/><path d="M271.5,142 L271.5,250.1094 A0,0 0 0 0 271.5,250.1094 L544.5,250.1094 A0,0 0 0 0 544.5,250.1094 L544.5,200 L579.91,196 L544.5,192 L544.5,152 L534.5,142 L271.5,142 A0,0 0 0 0 271.5,142 " fill="#FBFB77" filter="url(#f18q7tj7st0qff)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M534.5,142 L534.5,152 L544.5,152 L534.5,142 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="277.5" y="160.4951">Checks the `lineBuilder` to know the type of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="277.5" y="176.8467">Dlt Message, which is then used to know if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="277.5" y="193.1982">this is a request or a response. It gets the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="277.5" y="209.5498">control payload `IControlArg` and sets this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="277.5" y="225.9014">to `lineBuilder` that it knows how to return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="277.5" y="242.2529">the entire line.</text><!--MD5=[6e5c003b2095e310fc9048ff7f2b88b9]
class IControlArg--><rect codeLine="25" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="48" id="IControlArg" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1010.5" y="442"/><ellipse cx="1025.5" cy="458" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1026.4531,454.6406 L1026.4531,461.2969 L1028.1719,461.2969 Q1028.7813,461.2969 1029.0469,461.5313 Q1029.3125,461.7656 1029.3125,462.1563 Q1029.3125,462.5313 1029.0469,462.7656 Q1028.7813,463 1028.1719,463 L1023.0313,463 Q1022.4219,463 1022.1563,462.7656 Q1021.8906,462.5313 1021.8906,462.1406 Q1021.8906,461.7656 1022.1563,461.5313 Q1022.4219,461.2969 1023.0313,461.2969 L1024.75,461.2969 L1024.75,454.6406 L1023.0313,454.6406 Q1022.4219,454.6406 1022.1563,454.4063 Q1021.8906,454.1719 1021.8906,453.7813 Q1021.8906,453.4063 1022.1563,453.1719 Q1022.4219,452.9375 1023.0313,452.9375 L1028.1719,452.9375 Q1028.7813,452.9375 1029.0469,453.1719 Q1029.3125,453.4063 1029.3125,453.7813 Q1029.3125,454.1719 1029.0469,454.4063 Q1028.7813,454.6406 1028.1719,454.6406 L1026.4531,454.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="1039.5" y="462.9102">IControlArg</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1011.5" x2="1104.5" y1="474" y2="474"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1011.5" x2="1104.5" y1="482" y2="482"/><!--MD5=[7fb2afcb184e496e4ef7df201a12eb67]
class IControlArgDecoder--><rect codeLine="27" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="61.8359" id="IControlArgDecoder" style="stroke:#A80036;stroke-width:1.5;" width="540" x="377" y="435"/><ellipse cx="587.75" cy="451" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M588.7031,447.6406 L588.7031,454.2969 L590.4219,454.2969 Q591.0313,454.2969 591.2969,454.5313 Q591.5625,454.7656 591.5625,455.1563 Q591.5625,455.5313 591.2969,455.7656 Q591.0313,456 590.4219,456 L585.2813,456 Q584.6719,456 584.4063,455.7656 Q584.1406,455.5313 584.1406,455.1406 Q584.1406,454.7656 584.4063,454.5313 Q584.6719,454.2969 585.2813,454.2969 L587,454.2969 L587,447.6406 L585.2813,447.6406 Q584.6719,447.6406 584.4063,447.4063 Q584.1406,447.1719 584.1406,446.7813 Q584.1406,446.4063 584.4063,446.1719 Q584.6719,445.9375 585.2813,445.9375 L590.4219,445.9375 Q591.0313,445.9375 591.2969,446.1719 Q591.5625,446.4063 591.5625,446.7813 Q591.5625,447.1719 591.2969,447.4063 Q591.0313,447.6406 590.4219,447.6406 L588.7031,447.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110" x="608.25" y="455.9102">IControlArgDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="916" y1="467" y2="467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="916" y1="475" y2="475"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="528" x="383" y="490.4189">Decode(serviceId: int, buffer: ReadOnlySpan&lt;byte&gt;, lineBuilder: IDltLineBuilder, [out] service: IControlArg*): int</text><path d="M6,420 L6,511.7578 A0,0 0 0 0 6,511.7578 L342,511.7578 A0,0 0 0 0 342,511.7578 L342,470 L376.97,466 L342,462 L342,430 L332,420 L6,420 A0,0 0 0 0 6,420 " fill="#FBFB77" filter="url(#f18q7tj7st0qff)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M332,420 L332,430 L342,430 L332,420 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="12" y="438.4951">Each instance knows how to decode a single control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="12" y="454.8467">message. The</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="52" x="98" y="454.8467">serviceId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="154" y="454.8467">is already known to find this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="12" y="471.1982">instance. On return it provides a new control message.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="12" y="487.5498">The input</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="69" y="487.5498">buffer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="107" y="487.5498">points to the payload of the control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="12" y="503.9014">message.</text><!--MD5=[8820c8d5cf5442f2fecd1b1aad5fe8d2]
class ControlRequestDecoder--><rect codeLine="38" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="48" id="ControlRequestDecoder" style="stroke:#A80036;stroke-width:1.5;" width="166" x="440" y="311"/><ellipse cx="455" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M457.7656,322.875 Q457.9219,322.6563 458.1094,322.5469 Q458.2969,322.4375 458.5156,322.4375 Q458.8906,322.4375 459.125,322.6953 Q459.3594,322.9531 459.3594,323.5625 L459.3594,325.0156 Q459.3594,325.625 459.125,325.8906 Q458.8906,326.1563 458.5156,326.1563 Q458.1719,326.1563 457.9688,325.9531 Q457.7656,325.7656 457.6563,325.25 Q457.6094,324.8906 457.4219,324.7031 Q457.0938,324.3281 456.4844,324.1094 Q455.875,323.8906 455.25,323.8906 Q454.4844,323.8906 453.8516,324.2188 Q453.2188,324.5469 452.7266,325.2969 Q452.2344,326.0469 452.2344,327.0781 L452.2344,328.1719 Q452.2344,329.4063 453.125,330.2266 Q454.0156,331.0469 455.6094,331.0469 Q456.5469,331.0469 457.2031,330.7969 Q457.5938,330.6406 458.0156,330.2031 Q458.2813,329.9375 458.4297,329.8594 Q458.5781,329.7813 458.7813,329.7813 Q459.1094,329.7813 459.3672,330.0391 Q459.625,330.2969 459.625,330.6406 Q459.625,330.9844 459.2813,331.3906 Q458.7813,331.9688 457.9844,332.2969 Q456.9063,332.75 455.6094,332.75 Q454.0938,332.75 452.8906,332.125 Q451.9063,331.625 451.2188,330.5547 Q450.5313,329.4844 450.5313,328.2031 L450.5313,327.0469 Q450.5313,325.7188 451.1484,324.5703 Q451.7656,323.4219 452.8594,322.8047 Q453.9531,322.1875 455.1875,322.1875 Q455.9219,322.1875 456.5703,322.3516 Q457.2188,322.5156 457.7656,322.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="469" y="331.9102">ControlRequestDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="441" x2="605" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="441" x2="605" y1="351" y2="351"/><!--MD5=[e5eefd7235942efa17a66a20c6abee2d]
class ControlResponseDecoder--><rect codeLine="39" fill="#FEFECE" filter="url(#f18q7tj7st0qff)" height="48" id="ControlResponseDecoder" style="stroke:#A80036;stroke-width:1.5;" width="177" x="641.5" y="311"/><ellipse cx="656.5" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M659.2656,322.875 Q659.4219,322.6563 659.6094,322.5469 Q659.7969,322.4375 660.0156,322.4375 Q660.3906,322.4375 660.625,322.6953 Q660.8594,322.9531 660.8594,323.5625 L660.8594,325.0156 Q660.8594,325.625 660.625,325.8906 Q660.3906,326.1563 660.0156,326.1563 Q659.6719,326.1563 659.4688,325.9531 Q659.2656,325.7656 659.1563,325.25 Q659.1094,324.8906 658.9219,324.7031 Q658.5938,324.3281 657.9844,324.1094 Q657.375,323.8906 656.75,323.8906 Q655.9844,323.8906 655.3516,324.2188 Q654.7188,324.5469 654.2266,325.2969 Q653.7344,326.0469 653.7344,327.0781 L653.7344,328.1719 Q653.7344,329.4063 654.625,330.2266 Q655.5156,331.0469 657.1094,331.0469 Q658.0469,331.0469 658.7031,330.7969 Q659.0938,330.6406 659.5156,330.2031 Q659.7813,329.9375 659.9297,329.8594 Q660.0781,329.7813 660.2813,329.7813 Q660.6094,329.7813 660.8672,330.0391 Q661.125,330.2969 661.125,330.6406 Q661.125,330.9844 660.7813,331.3906 Q660.2813,331.9688 659.4844,332.2969 Q658.4063,332.75 657.1094,332.75 Q655.5938,332.75 654.3906,332.125 Q653.4063,331.625 652.7188,330.5547 Q652.0313,329.4844 652.0313,328.2031 L652.0313,327.0469 Q652.0313,325.7188 652.6484,324.5703 Q653.2656,323.4219 654.3594,322.8047 Q655.4531,322.1875 656.6875,322.1875 Q657.4219,322.1875 658.0703,322.3516 Q658.7188,322.5156 659.2656,322.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="670.5" y="331.9102">ControlResponseDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="642.5" x2="817.5" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="642.5" x2="817.5" y1="351" y2="351"/><!--MD5=[d7f1c15275b2e0d7d5272687f579029f]
link DltTraceDecoderBase to IControlDltDecoder--><path codeLine="22" d="M390.05,43.5 C412.26,43.5 437.5,43.5 463.28,43.5 " fill="none" id="DltTraceDecoderBase-to-IControlDltDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="468.44,43.5,459.44,39.5,463.44,43.5,459.44,47.5,468.44,43.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="408.25" y="36.9951">«uses»</text><!--MD5=[1827bed504f69dacd42eb8ab045a2387]
reverse link IControlDltDecoder to ControlDltDecoder--><path codeLine="23" d="M647,94.68 C647,120.75 647,151.36 647,171.85 " fill="none" id="IControlDltDecoder-backto-ControlDltDecoder" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="640,94.59,647,74.59,654,94.59,640,94.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cdd27be86eabe01f31b4b5192ace5c68]
reverse link ControlRequestDecoder to IControlArgDecoder--><path codeLine="41" d="M554.29,368.55 C573.86,388.91 598.9,414.96 618.02,434.85 " fill="none" id="ControlRequestDecoder-backto-IControlArgDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="545.17,359.06,546.4466,366.1572,553.4889,367.7085,552.2123,360.6113,545.17,359.06" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="542.7208" y="380.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="589.9804" y="424.3236">1..*</text><!--MD5=[375bc67f5df660683af3f4925e18302d]
reverse link ControlResponseDecoder to IControlArgDecoder--><path codeLine="42" d="M707.98,370.23 C695.04,390.33 678.85,415.5 666.4,434.85 " fill="none" id="ControlResponseDecoder-backto-IControlArgDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="715.16,359.06,708.5475,361.9366,708.6596,369.1469,715.2721,366.2702,715.16,359.06" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="703.6896" y="380.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="648.3388" y="424.3236">1..*</text><!--MD5=[8e6f8ff614f07c83d5bb16509e4218ff]
reverse link ControlDltDecoder to ControlRequestDecoder--><path codeLine="44" d="M617.14,229.99 C594.6,254.9 564.21,288.46 544.14,310.65 " fill="none" id="ControlDltDecoder-backto-ControlRequestDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="625.97,220.24,618.9781,222.0045,617.9177,229.1372,624.9096,227.3727,625.97,220.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2d12576114afd34ab36bd603aed5ea8c]
reverse link ControlDltDecoder to ControlResponseDecoder--><path codeLine="45" d="M668,231.66 C682.98,256.38 702.71,288.96 715.85,310.65 " fill="none" id="ControlDltDecoder-backto-ControlResponseDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="661.08,220.24,660.7682,227.4444,667.2985,230.5031,667.6103,223.2987,661.08,220.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[65949c13623bc9df9a2fd40396bb8f66]
link IControlArgDecoder to IControlArg--><path codeLine="47" d="M917.13,466 C950.36,466 981.07,466 1005.29,466 " fill="none" id="IControlArgDecoder-to-IControlArg" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1010.35,466,1001.35,462,1005.35,466,1001.35,470,1010.35,466" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="935.25" y="459.4951">«creates»</text><!--MD5=[f013ffe90fbf86057b15d4b42124a108]
@startuml DLT.ControlArgDecoder
interface IControlDltDecoder {
    +Decode(buffer: ReadOnlySpan<byte>, lineBuilder: IDltLineBuilder): int
}
note right
    Defines the general interface on how
    to decode all control responses and
    requests. The buffer is where the
    control payload starts.
end note

class DltTraceDecoderBase
class ControlDltDecoder
note left
    Checks the `lineBuilder` to know the type of
    Dlt Message, which is then used to know if
    this is a request or a response. It gets the
    control payload `IControlArg` and sets this
    to `lineBuilder` that it knows how to return
    the entire line.
end note

DltTraceDecoderBase -r-> IControlDltDecoder : <<uses>>
ControlDltDecoder .u.|> IControlDltDecoder

interface IControlArg

interface IControlArgDecoder {
    Decode(serviceId: int, buffer: ReadOnlySpan<byte>, lineBuilder: IDltLineBuilder, [out] service: IControlArg*): int
}
note left
    Each instance knows how to decode a single control
    message. The <i>serviceId</i> is already known to find this
    instance. On return it provides a new control message.
    The input <i>buffer</i> points to the payload of the control
    message.
end note

class ControlRequestDecoder
class ControlResponseDecoder

ControlRequestDecoder "1" *-d- "1..*" IControlArgDecoder
ControlResponseDecoder "1" *-d- "1..*" IControlArgDecoder

ControlDltDecoder *-d- ControlRequestDecoder
ControlDltDecoder *-d- ControlResponseDecoder

IControlArgDecoder .r.> IControlArg : <<creates>>
@enduml

PlantUML version 1.2021.16(Wed Dec 08 18:25:22 CET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="520px" preserveAspectRatio="none" style="width:1036px;height:520px;background:#FFFFFF;" version="1.1" viewBox="0 0 1036 520" width="1036px" zoomAndPan="magnify"><defs><filter height="300%" id="f16hvcgu8twoab" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[56ef6c3cdcd90afa1639dddf226044ae]
class IControlDltDecoder--><rect codeLine="1" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="61.8359" id="IControlDltDecoder" style="stroke:#A80036;stroke-width:1.5;" width="357" x="404.5" y="12.5"/><ellipse cx="525.75" cy="28.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M526.7031,25.1406 L526.7031,31.7969 L528.4219,31.7969 Q529.0313,31.7969 529.2969,32.0313 Q529.5625,32.2656 529.5625,32.6563 Q529.5625,33.0313 529.2969,33.2656 Q529.0313,33.5 528.4219,33.5 L523.2813,33.5 Q522.6719,33.5 522.4063,33.2656 Q522.1406,33.0313 522.1406,32.6406 Q522.1406,32.2656 522.4063,32.0313 Q522.6719,31.7969 523.2813,31.7969 L525,31.7969 L525,25.1406 L523.2813,25.1406 Q522.6719,25.1406 522.4063,24.9063 Q522.1406,24.6719 522.1406,24.2813 Q522.1406,23.9063 522.4063,23.6719 Q522.6719,23.4375 523.2813,23.4375 L528.4219,23.4375 Q529.0313,23.4375 529.2969,23.6719 Q529.5625,23.9063 529.5625,24.2813 Q529.5625,24.6719 529.2969,24.9063 Q529.0313,25.1406 528.4219,25.1406 L526.7031,25.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="106" x="546.25" y="33.4102">IControlDltDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="405.5" x2="760.5" y1="44.5" y2="44.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="405.5" x2="760.5" y1="52.5" y2="52.5"/><ellipse cx="415.5" cy="63.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="331" x="424.5" y="67.9189">Decode(buffer: ReadOnlySpan&lt;byte&gt;, lineBuilder: IDltLineBuilder): int</text><path d="M797,6 L797,39.5 L761.64,43.5 L797,47.5 L797,81.4063 A0,0 0 0 0 797,81.4063 L1027,81.4063 A0,0 0 0 0 1027,81.4063 L1027,16 L1017,6 L797,6 A0,0 0 0 0 797,6 " fill="#FBFB77" filter="url(#f16hvcgu8twoab)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1017,6 L1017,16 L1027,16 L1017,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="803" y="24.4951">Defines the general interface on how</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="803" y="40.8467">to decode all control responses and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="803" y="57.1982">requests. The buffer is where the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="803" y="73.5498">control payload starts.</text><!--MD5=[362837878af92ba71ae40d034f8eec69]
class DltTraceDecoderBase--><rect codeLine="11" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="48" id="DltTraceDecoderBase" style="stroke:#A80036;stroke-width:1.5;" width="154" x="172" y="19.5"/><ellipse cx="187" cy="35.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M189.7656,31.375 Q189.9219,31.1563 190.1094,31.0469 Q190.2969,30.9375 190.5156,30.9375 Q190.8906,30.9375 191.125,31.1953 Q191.3594,31.4531 191.3594,32.0625 L191.3594,33.5156 Q191.3594,34.125 191.125,34.3906 Q190.8906,34.6563 190.5156,34.6563 Q190.1719,34.6563 189.9688,34.4531 Q189.7656,34.2656 189.6563,33.75 Q189.6094,33.3906 189.4219,33.2031 Q189.0938,32.8281 188.4844,32.6094 Q187.875,32.3906 187.25,32.3906 Q186.4844,32.3906 185.8516,32.7188 Q185.2188,33.0469 184.7266,33.7969 Q184.2344,34.5469 184.2344,35.5781 L184.2344,36.6719 Q184.2344,37.9063 185.125,38.7266 Q186.0156,39.5469 187.6094,39.5469 Q188.5469,39.5469 189.2031,39.2969 Q189.5938,39.1406 190.0156,38.7031 Q190.2813,38.4375 190.4297,38.3594 Q190.5781,38.2813 190.7813,38.2813 Q191.1094,38.2813 191.3672,38.5391 Q191.625,38.7969 191.625,39.1406 Q191.625,39.4844 191.2813,39.8906 Q190.7813,40.4688 189.9844,40.7969 Q188.9063,41.25 187.6094,41.25 Q186.0938,41.25 184.8906,40.625 Q183.9063,40.125 183.2188,39.0547 Q182.5313,37.9844 182.5313,36.7031 L182.5313,35.5469 Q182.5313,34.2188 183.1484,33.0703 Q183.7656,31.9219 184.8594,31.3047 Q185.9531,30.6875 187.1875,30.6875 Q187.9219,30.6875 188.5703,30.8516 Q189.2188,31.0156 189.7656,31.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="201" y="40.4102">DltTraceDecoderBase</text><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="325" y1="51.5" y2="51.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="325" y1="59.5" y2="59.5"/><!--MD5=[19f09d2ea9f363fea798f3b34c0107b2]
class ControlDltDecoder--><rect codeLine="12" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="48" id="ControlDltDecoder" style="stroke:#A80036;stroke-width:1.5;" width="134" x="516" y="172"/><ellipse cx="531" cy="188" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M533.7656,183.875 Q533.9219,183.6563 534.1094,183.5469 Q534.2969,183.4375 534.5156,183.4375 Q534.8906,183.4375 535.125,183.6953 Q535.3594,183.9531 535.3594,184.5625 L535.3594,186.0156 Q535.3594,186.625 535.125,186.8906 Q534.8906,187.1563 534.5156,187.1563 Q534.1719,187.1563 533.9688,186.9531 Q533.7656,186.7656 533.6563,186.25 Q533.6094,185.8906 533.4219,185.7031 Q533.0938,185.3281 532.4844,185.1094 Q531.875,184.8906 531.25,184.8906 Q530.4844,184.8906 529.8516,185.2188 Q529.2188,185.5469 528.7266,186.2969 Q528.2344,187.0469 528.2344,188.0781 L528.2344,189.1719 Q528.2344,190.4063 529.125,191.2266 Q530.0156,192.0469 531.6094,192.0469 Q532.5469,192.0469 533.2031,191.7969 Q533.5938,191.6406 534.0156,191.2031 Q534.2813,190.9375 534.4297,190.8594 Q534.5781,190.7813 534.7813,190.7813 Q535.1094,190.7813 535.3672,191.0391 Q535.625,191.2969 535.625,191.6406 Q535.625,191.9844 535.2813,192.3906 Q534.7813,192.9688 533.9844,193.2969 Q532.9063,193.75 531.6094,193.75 Q530.0938,193.75 528.8906,193.125 Q527.9063,192.625 527.2188,191.5547 Q526.5313,190.4844 526.5313,189.2031 L526.5313,188.0469 Q526.5313,186.7188 527.1484,185.5703 Q527.7656,184.4219 528.8594,183.8047 Q529.9531,183.1875 531.1875,183.1875 Q531.9219,183.1875 532.5703,183.3516 Q533.2188,183.5156 533.7656,183.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="545" y="192.9102">ControlDltDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="517" x2="649" y1="204" y2="204"/><line style="stroke:#A80036;stroke-width:1.5;" x1="517" x2="649" y1="212" y2="212"/><path d="M207.5,142 L207.5,250.1094 A0,0 0 0 0 207.5,250.1094 L480.5,250.1094 A0,0 0 0 0 480.5,250.1094 L480.5,200 L515.91,196 L480.5,192 L480.5,152 L470.5,142 L207.5,142 A0,0 0 0 0 207.5,142 " fill="#FBFB77" filter="url(#f16hvcgu8twoab)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M470.5,142 L470.5,152 L480.5,152 L470.5,142 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="213.5" y="160.4951">Checks the `lineBuilder` to know the type of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="213.5" y="176.8467">Dlt Message, which is then used to know if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="213.5" y="193.1982">this is a request or a response. It gets the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="213.5" y="209.5498">control payload `IControlArg` and sets this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="213.5" y="225.9014">to `lineBuilder` that it knows how to return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="213.5" y="242.2529">the entire line.</text><!--MD5=[6e5c003b2095e310fc9048ff7f2b88b9]
class IControlArg--><rect codeLine="25" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="61.8359" id="IControlArg" style="stroke:#A80036;stroke-width:1.5;" width="115" x="882.5" y="435"/><ellipse cx="906.5" cy="451" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M907.4531,447.6406 L907.4531,454.2969 L909.1719,454.2969 Q909.7813,454.2969 910.0469,454.5313 Q910.3125,454.7656 910.3125,455.1563 Q910.3125,455.5313 910.0469,455.7656 Q909.7813,456 909.1719,456 L904.0313,456 Q903.4219,456 903.1563,455.7656 Q902.8906,455.5313 902.8906,455.1406 Q902.8906,454.7656 903.1563,454.5313 Q903.4219,454.2969 904.0313,454.2969 L905.75,454.2969 L905.75,447.6406 L904.0313,447.6406 Q903.4219,447.6406 903.1563,447.4063 Q902.8906,447.1719 902.8906,446.7813 Q902.8906,446.4063 903.1563,446.1719 Q903.4219,445.9375 904.0313,445.9375 L909.1719,445.9375 Q909.7813,445.9375 910.0469,446.1719 Q910.3125,446.4063 910.3125,446.7813 Q910.3125,447.1719 910.0469,447.4063 Q909.7813,447.6406 909.1719,447.6406 L907.4531,447.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="922.5" y="455.9102">IControlArg</text><line style="stroke:#A80036;stroke-width:1.5;" x1="883.5" x2="996.5" y1="467" y2="467"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="888.5" y="482.4189">DefaultType : DltType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="883.5" x2="996.5" y1="488.8359" y2="488.8359"/><!--MD5=[7fb2afcb184e496e4ef7df201a12eb67]
class IControlArgDecoder--><rect codeLine="29" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="61.8359" id="IControlArgDecoder" style="stroke:#A80036;stroke-width:1.5;" width="412" x="377" y="435"/><ellipse cx="523.75" cy="451" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M524.7031,447.6406 L524.7031,454.2969 L526.4219,454.2969 Q527.0313,454.2969 527.2969,454.5313 Q527.5625,454.7656 527.5625,455.1563 Q527.5625,455.5313 527.2969,455.7656 Q527.0313,456 526.4219,456 L521.2813,456 Q520.6719,456 520.4063,455.7656 Q520.1406,455.5313 520.1406,455.1406 Q520.1406,454.7656 520.4063,454.5313 Q520.6719,454.2969 521.2813,454.2969 L523,454.2969 L523,447.6406 L521.2813,447.6406 Q520.6719,447.6406 520.4063,447.4063 Q520.1406,447.1719 520.1406,446.7813 Q520.1406,446.4063 520.4063,446.1719 Q520.6719,445.9375 521.2813,445.9375 L526.4219,445.9375 Q527.0313,445.9375 527.2969,446.1719 Q527.5625,446.4063 527.5625,446.7813 Q527.5625,447.1719 527.2969,447.4063 Q527.0313,447.6406 526.4219,447.6406 L524.7031,447.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110" x="544.25" y="455.9102">IControlArgDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="788" y1="467" y2="467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="788" y1="475" y2="475"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="400" x="383" y="490.4189">Decode(serviceId: int, buffer: ReadOnlySpan&lt;byte&gt;, [out] service: IControlArg*): int</text><path d="M6,420 L6,511.7578 A0,0 0 0 0 6,511.7578 L342,511.7578 A0,0 0 0 0 342,511.7578 L342,470 L376.96,466 L342,462 L342,430 L332,420 L6,420 A0,0 0 0 0 6,420 " fill="#FBFB77" filter="url(#f16hvcgu8twoab)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M332,420 L332,430 L342,430 L332,420 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="12" y="438.4951">Each instance knows how to decode a single control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="12" y="454.8467">message. The</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="52" x="98" y="454.8467">serviceId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="154" y="454.8467">is already known to find this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="12" y="471.1982">instance. On return it provides a new control message.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="12" y="487.5498">The input</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="69" y="487.5498">buffer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="107" y="487.5498">points to the payload of the control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="12" y="503.9014">message.</text><!--MD5=[8820c8d5cf5442f2fecd1b1aad5fe8d2]
class ControlRequestDecoder--><rect codeLine="40" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="48" id="ControlRequestDecoder" style="stroke:#A80036;stroke-width:1.5;" width="166" x="376" y="311"/><ellipse cx="391" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M393.7656,322.875 Q393.9219,322.6563 394.1094,322.5469 Q394.2969,322.4375 394.5156,322.4375 Q394.8906,322.4375 395.125,322.6953 Q395.3594,322.9531 395.3594,323.5625 L395.3594,325.0156 Q395.3594,325.625 395.125,325.8906 Q394.8906,326.1563 394.5156,326.1563 Q394.1719,326.1563 393.9688,325.9531 Q393.7656,325.7656 393.6563,325.25 Q393.6094,324.8906 393.4219,324.7031 Q393.0938,324.3281 392.4844,324.1094 Q391.875,323.8906 391.25,323.8906 Q390.4844,323.8906 389.8516,324.2188 Q389.2188,324.5469 388.7266,325.2969 Q388.2344,326.0469 388.2344,327.0781 L388.2344,328.1719 Q388.2344,329.4063 389.125,330.2266 Q390.0156,331.0469 391.6094,331.0469 Q392.5469,331.0469 393.2031,330.7969 Q393.5938,330.6406 394.0156,330.2031 Q394.2813,329.9375 394.4297,329.8594 Q394.5781,329.7813 394.7813,329.7813 Q395.1094,329.7813 395.3672,330.0391 Q395.625,330.2969 395.625,330.6406 Q395.625,330.9844 395.2813,331.3906 Q394.7813,331.9688 393.9844,332.2969 Q392.9063,332.75 391.6094,332.75 Q390.0938,332.75 388.8906,332.125 Q387.9063,331.625 387.2188,330.5547 Q386.5313,329.4844 386.5313,328.2031 L386.5313,327.0469 Q386.5313,325.7188 387.1484,324.5703 Q387.7656,323.4219 388.8594,322.8047 Q389.9531,322.1875 391.1875,322.1875 Q391.9219,322.1875 392.5703,322.3516 Q393.2188,322.5156 393.7656,322.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="405" y="331.9102">ControlRequestDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="377" x2="541" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="377" x2="541" y1="351" y2="351"/><!--MD5=[e5eefd7235942efa17a66a20c6abee2d]
class ControlResponseDecoder--><rect codeLine="41" fill="#FEFECE" filter="url(#f16hvcgu8twoab)" height="48" id="ControlResponseDecoder" style="stroke:#A80036;stroke-width:1.5;" width="177" x="577.5" y="311"/><ellipse cx="592.5" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M595.2656,322.875 Q595.4219,322.6563 595.6094,322.5469 Q595.7969,322.4375 596.0156,322.4375 Q596.3906,322.4375 596.625,322.6953 Q596.8594,322.9531 596.8594,323.5625 L596.8594,325.0156 Q596.8594,325.625 596.625,325.8906 Q596.3906,326.1563 596.0156,326.1563 Q595.6719,326.1563 595.4688,325.9531 Q595.2656,325.7656 595.1563,325.25 Q595.1094,324.8906 594.9219,324.7031 Q594.5938,324.3281 593.9844,324.1094 Q593.375,323.8906 592.75,323.8906 Q591.9844,323.8906 591.3516,324.2188 Q590.7188,324.5469 590.2266,325.2969 Q589.7344,326.0469 589.7344,327.0781 L589.7344,328.1719 Q589.7344,329.4063 590.625,330.2266 Q591.5156,331.0469 593.1094,331.0469 Q594.0469,331.0469 594.7031,330.7969 Q595.0938,330.6406 595.5156,330.2031 Q595.7813,329.9375 595.9297,329.8594 Q596.0781,329.7813 596.2813,329.7813 Q596.6094,329.7813 596.8672,330.0391 Q597.125,330.2969 597.125,330.6406 Q597.125,330.9844 596.7813,331.3906 Q596.2813,331.9688 595.4844,332.2969 Q594.4063,332.75 593.1094,332.75 Q591.5938,332.75 590.3906,332.125 Q589.4063,331.625 588.7188,330.5547 Q588.0313,329.4844 588.0313,328.2031 L588.0313,327.0469 Q588.0313,325.7188 588.6484,324.5703 Q589.2656,323.4219 590.3594,322.8047 Q591.4531,322.1875 592.6875,322.1875 Q593.4219,322.1875 594.0703,322.3516 Q594.7188,322.5156 595.2656,322.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="606.5" y="331.9102">ControlResponseDecoder</text><line style="stroke:#A80036;stroke-width:1.5;" x1="578.5" x2="753.5" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="578.5" x2="753.5" y1="351" y2="351"/><!--MD5=[d7f1c15275b2e0d7d5272687f579029f]
link DltTraceDecoderBase to IControlDltDecoder--><path codeLine="22" d="M326.05,43.5 C348.26,43.5 373.5,43.5 399.28,43.5 " fill="none" id="DltTraceDecoderBase-to-IControlDltDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="404.44,43.5,395.44,39.5,399.44,43.5,395.44,47.5,404.44,43.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="344.25" y="36.9951">«uses»</text><!--MD5=[1827bed504f69dacd42eb8ab045a2387]
reverse link IControlDltDecoder to ControlDltDecoder--><path codeLine="23" d="M583,94.68 C583,120.75 583,151.36 583,171.85 " fill="none" id="IControlDltDecoder-backto-ControlDltDecoder" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="576,94.59,583,74.59,590,94.59,576,94.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cdd27be86eabe01f31b4b5192ace5c68]
reverse link ControlRequestDecoder to IControlArgDecoder--><path codeLine="43" d="M490.29,368.55 C509.86,388.91 534.9,414.96 554.02,434.85 " fill="none" id="ControlRequestDecoder-backto-IControlArgDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="481.17,359.06,482.4466,366.1572,489.4889,367.7085,488.2123,360.6113,481.17,359.06" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="478.7208" y="380.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="525.9804" y="424.3236">1..*</text><!--MD5=[375bc67f5df660683af3f4925e18302d]
reverse link ControlResponseDecoder to IControlArgDecoder--><path codeLine="44" d="M643.98,370.23 C631.04,390.33 614.85,415.5 602.4,434.85 " fill="none" id="ControlResponseDecoder-backto-IControlArgDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="651.16,359.06,644.5475,361.9366,644.6596,369.1469,651.2721,366.2702,651.16,359.06" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="639.6896" y="380.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="584.3388" y="424.3236">1..*</text><!--MD5=[8e6f8ff614f07c83d5bb16509e4218ff]
reverse link ControlDltDecoder to ControlRequestDecoder--><path codeLine="46" d="M553.14,229.99 C530.6,254.9 500.21,288.46 480.14,310.65 " fill="none" id="ControlDltDecoder-backto-ControlRequestDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="561.97,220.24,554.9781,222.0045,553.9177,229.1372,560.9096,227.3727,561.97,220.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2d12576114afd34ab36bd603aed5ea8c]
reverse link ControlDltDecoder to ControlResponseDecoder--><path codeLine="47" d="M604,231.66 C618.98,256.38 638.71,288.96 651.85,310.65 " fill="none" id="ControlDltDecoder-backto-ControlResponseDecoder" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="597.08,220.24,596.7682,227.4444,603.2985,230.5031,603.6103,223.2987,597.08,220.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[65949c13623bc9df9a2fd40396bb8f66]
link IControlArgDecoder to IControlArg--><path codeLine="49" d="M789.12,466 C821.01,466 851.71,466 876.98,466 " fill="none" id="IControlArgDecoder-to-IControlArg" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="882.29,466,873.29,462,877.29,466,873.29,470,882.29,466" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="807.25" y="459.4951">«creates»</text><!--MD5=[9ed1ba408fbd04f8f0fb8ed64aa843c6]
@startuml DLT.ControlArgDecoder
interface IControlDltDecoder {
    +Decode(buffer: ReadOnlySpan<byte>, lineBuilder: IDltLineBuilder): int
}
note right
    Defines the general interface on how
    to decode all control responses and
    requests. The buffer is where the
    control payload starts.
end note

class DltTraceDecoderBase
class ControlDltDecoder
note left
    Checks the `lineBuilder` to know the type of
    Dlt Message, which is then used to know if
    this is a request or a response. It gets the
    control payload `IControlArg` and sets this
    to `lineBuilder` that it knows how to return
    the entire line.
end note

DltTraceDecoderBase -r-> IControlDltDecoder : <<uses>>
ControlDltDecoder .u.|> IControlDltDecoder

interface IControlArg {
    DefaultType : DltType
}

interface IControlArgDecoder {
    Decode(serviceId: int, buffer: ReadOnlySpan<byte>, [out] service: IControlArg*): int
}
note left
    Each instance knows how to decode a single control
    message. The <i>serviceId</i> is already known to find this
    instance. On return it provides a new control message.
    The input <i>buffer</i> points to the payload of the control
    message.
end note

class ControlRequestDecoder
class ControlResponseDecoder

ControlRequestDecoder "1" *-d- "1..*" IControlArgDecoder
ControlResponseDecoder "1" *-d- "1..*" IControlArgDecoder

ControlDltDecoder *-d- ControlRequestDecoder
ControlDltDecoder *-d- ControlResponseDecoder

IControlArgDecoder .r.> IControlArg : <<creates>>
@enduml

PlantUML version 1.2021.16(Wed Dec 08 18:25:22 CET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>